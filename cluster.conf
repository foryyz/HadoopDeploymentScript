# =========================
# cluster.conf (Ubuntu 24 + VMware)
# =========================

# --- SSH admin user for remote install (must exist on all nodes) ---
ADMIN_USER="hadoop"

# --- Network ---
NET_PREFIX="192.168.120"
CIDR="24"
# Gateway: leave empty to auto-detect from current default route; fallback to ${NET_PREFIX}.2
GATEWAY=""
DNS="8.8.8.8,114.114.114.114"

# --- Nodes ---
MASTER_HOST="master"
MASTER_IP="192.168.120.10"

WORKER1_HOST="worker1"
WORKER1_IP="192.168.120.11"

WORKER2_HOST="worker2"
WORKER2_IP="192.168.120.12"

# Workers list (space-separated IPs)
WORKERS_IPS="192.168.120.11 192.168.120.12"

# SecondaryNameNode placement
SECONDARY_HOST="worker1"
SECONDARY_IP="192.168.120.11"

# --- Download links ---
JDK_DOWNLOAD_LINK="https://mirrors.tuna.tsinghua.edu.cn/Adoptium/8/jdk/x64/linux/OpenJDK8U-jdk_x64_linux_hotspot_8u472b08.tar.gz"
HADOOP_DOWNLOAD_LINK="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.4.2/hadoop-3.4.2.tar.gz"

# --- Install paths ---
HADOOP_USER="hadoop"
INSTALL_BASE="/opt"
JDK_DIR="/opt/jdk8"
HADOOP_DIR="/opt/hadoop"
DATA_BASE="/data/hadoop"

# --- Cluster tuning for <=4GB VMs ---
DFS_REPLICATION="2"

YARN_NM_MEMORY_MB="3072"
YARN_NM_VCORES="2"
YARN_MIN_ALLOC_MB="512"
YARN_MAX_ALLOC_MB="3072"

MR_MAP_MB="1024"
MR_REDUCE_MB="1024"
MR_AM_MB="1024"
MR_JAVA_XMX="768m"

# JobHistoryServer on master
HISTORYSERVER_HOST="master"
HISTORYSERVER_IP="192.168.120.10"
